<!DOCTYPE html>
<html lang="en">
<head>
    <title>Object</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../css/github.css" type="text/css" media="screen" />
<script src="../js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="../js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>


    <meta property="og:title" value="Object">

  

    <meta name="keywords" content="Object class">
  
    <meta name="keywords" content="likeAppend, likeAppendMulti, orAppend, numAppend, betweenAppend, correct_prof_user, translate_semester, tag_conflicts, highlight_keywords">
  
</head>

<body>
    <div class="banner">
        
        <h1>
            <span class="type">Class</span>
            Object
            
                <span class="parent">&lt;
                    
                    BasicObject
                    
                </span>
            
        </h1>
        <ul class="files">
            
            <li><a href="../files/app/controllers/courses_controller_rb.html">app/controllers/courses_controller.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  


  


  
  


  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>B</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-betweenAppend">betweenAppend</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>C</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-correct_prof_user">correct_prof_user</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>H</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-highlight_keywords">highlight_keywords</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>L</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-likeAppend">likeAppend</a>,
              </li>
            
              
              <li>
                <a href="#method-i-likeAppendMulti">likeAppendMulti</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-numAppend">numAppend</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>O</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-orAppend">orAppend</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>T</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="#method-i-tag_conflicts">tag_conflicts</a>,
              </li>
            
              
              <li>
                <a href="#method-i-translate_semester">translate_semester</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    


    


    <!-- Methods -->
    
    
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-betweenAppend">
            
              <b>betweenAppend</b>(field, val1, val2, qs)
            
            <a href="../classes/Object.html#method-i-betweenAppend" name="method-i-betweenAppend" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Appends a &#39;BETWEEN&#39; comparison to the end of the specified query string</p>

<pre><code>qs: query string
field: name of the table field being queried
val1: the smaller/first of the two values used for comparison
val2: the larger/second of the two values used for comparison
</code></pre>

<p>Returns a string</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-betweenAppend_source')" id="l_method-i-betweenAppend_source">show</a>
                
              </p>
              <div id="method-i-betweenAppend_source" class="dyn-source">
                <pre><span class="ruby-comment"># File app/controllers/courses_controller.rb, line 591</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">betweenAppend</span>(<span class="ruby-identifier">field</span>, <span class="ruby-identifier">val1</span>, <span class="ruby-identifier">val2</span>, <span class="ruby-identifier">qs</span>)
  <span class="ruby-identifier">qs</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">field</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot; BETWEEN &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">quote</span>(<span class="ruby-identifier">val1</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot; AND &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">quote</span>(<span class="ruby-identifier">val2</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot; AND &quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-correct_prof_user">
            
              <b>correct_prof_user</b>()
            
            <a href="../classes/Object.html#method-i-correct_prof_user" name="method-i-correct_prof_user" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-correct_prof_user_source')" id="l_method-i-correct_prof_user_source">show</a>
                
              </p>
              <div id="method-i-correct_prof_user_source" class="dyn-source">
                <pre><span class="ruby-comment"># File app/controllers/courses_controller.rb, line 595</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">correct_prof_user</span>
  <span class="ruby-identifier">redirect_to</span>(<span class="ruby-identifier">root_path</span>) <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">signed_in?</span>
  <span class="ruby-identifier">redirect_to</span>(<span class="ruby-identifier">root_path</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">faculty_user?</span>(<span class="ruby-identifier">current_user</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-highlight_keywords">
            
              <b>highlight_keywords</b>(courses, keywords)
            
            <a href="../classes/Object.html#method-i-highlight_keywords" name="method-i-highlight_keywords" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>highlights the keywords searched for in course results</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-highlight_keywords_source')" id="l_method-i-highlight_keywords_source">show</a>
                
              </p>
              <div id="method-i-highlight_keywords_source" class="dyn-source">
                <pre><span class="ruby-comment"># File app/controllers/courses_controller.rb, line 670</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">highlight_keywords</span>(<span class="ruby-identifier">courses</span>, <span class="ruby-identifier">keywords</span>)
  <span class="ruby-identifier">keywords</span>.<span class="ruby-identifier">strip!</span>
  <span class="ruby-identifier">keys</span> = <span class="ruby-identifier">keywords</span>.<span class="ruby-identifier">scan</span>(<span class="ruby-regexp">/&#39;.+?&#39;|&quot;.+?&quot;|[^ ]+/</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">gsub</span> <span class="ruby-regexp">/^[&#39;&quot;]|[&#39;&quot;]$/</span>, <span class="ruby-string">&quot;&quot;</span> }.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">escape</span>(<span class="ruby-identifier">k</span>) }
  <span class="ruby-identifier">courses</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">result</span><span class="ruby-operator">|</span>
    [<span class="ruby-value">:descrip</span>, <span class="ruby-value">:short_title</span>, <span class="ruby-value">:title</span>, <span class="ruby-value">:xlist1</span>, <span class="ruby-value">:xlist2</span>, <span class="ruby-value">:xlist3</span>, <span class="ruby-value">:prereqs</span>, <span class="ruby-value">:dept</span>, <span class="ruby-value">:dept_long</span>, <span class="ruby-value">:prof_desc</span>, <span class="ruby-value">:prof_note</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">field</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">result</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">field</span>).<span class="ruby-identifier">gsub!</span>(<span class="ruby-regexp">/#{keys.join(&quot;|&quot;)}/i</span>, <span class="ruby-string">&#39;&lt;span class=highlight&gt;\0&lt;/span&gt;&#39;</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">field</span>).<span class="ruby-identifier">blank?</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">courses</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-likeAppend">
            
              <b>likeAppend</b>(field, value, qs)
            
            <a href="../classes/Object.html#method-i-likeAppend" name="method-i-likeAppend" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Appends a &#39;LIKE&#39; comparison to the end of the specified query string</p>

<pre><code>qs: query string, string object
field: the name of the table field being queried
value: value used for comparison, can be any type
</code></pre>

<p>Returns a string</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-likeAppend_source')" id="l_method-i-likeAppend_source">show</a>
                
              </p>
              <div id="method-i-likeAppend_source" class="dyn-source">
                <pre><span class="ruby-comment"># File app/controllers/courses_controller.rb, line 558</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">likeAppend</span>(<span class="ruby-identifier">field</span>, <span class="ruby-identifier">value</span>, <span class="ruby-identifier">qs</span>)
  <span class="ruby-identifier">qs</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">field</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot; LIKE &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">quote</span>(<span class="ruby-string">&quot;%&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;%&quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot; AND &quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-likeAppendMulti">
            
              <b>likeAppendMulti</b>(field, value, qs)
            
            <a href="../classes/Object.html#method-i-likeAppendMulti" name="method-i-likeAppendMulti" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-likeAppendMulti_source')" id="l_method-i-likeAppendMulti_source">show</a>
                
              </p>
              <div id="method-i-likeAppendMulti_source" class="dyn-source">
                <pre><span class="ruby-comment"># File app/controllers/courses_controller.rb, line 562</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">likeAppendMulti</span>(<span class="ruby-identifier">field</span>, <span class="ruby-identifier">value</span>, <span class="ruby-identifier">qs</span>)
  <span class="ruby-identifier">qs</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">field</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot; LIKE &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">quote</span>(<span class="ruby-string">&quot;%&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;%&quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;) AND &quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-numAppend">
            
              <b>numAppend</b>(field, value, comparator, qs)
            
            <a href="../classes/Object.html#method-i-numAppend" name="method-i-numAppend" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Appends a numerical comparison to the end of the specified query string</p>

<pre><code>qs: query string
field: name of the table field being queried
value: value used for comparison
comparator: a numerical comparison operator, i.e. &gt;, &lt;, &gt;=, etc.
</code></pre>

<p>Returns a string</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-numAppend_source')" id="l_method-i-numAppend_source">show</a>
                
              </p>
              <div id="method-i-numAppend_source" class="dyn-source">
                <pre><span class="ruby-comment"># File app/controllers/courses_controller.rb, line 581</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">numAppend</span>(<span class="ruby-identifier">field</span>, <span class="ruby-identifier">value</span>, <span class="ruby-identifier">comparator</span>, <span class="ruby-identifier">qs</span>)
  <span class="ruby-identifier">qs</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">field</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot; &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">comparator</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot; &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">quote</span>(<span class="ruby-identifier">value</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot; AND &quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-orAppend">
            
              <b>orAppend</b>(field, value, qs)
            
            <a href="../classes/Object.html#method-i-orAppend" name="method-i-orAppend" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Appends an &#39;OR&#39; comparison to the end of the specified query string</p>

<pre><code>qs: query string, string object
field: the name of the table field being queried
value: value used for comparion, can be any type
</code></pre>

<p>Returns a string</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-orAppend_source')" id="l_method-i-orAppend_source">show</a>
                
              </p>
              <div id="method-i-orAppend_source" class="dyn-source">
                <pre><span class="ruby-comment"># File app/controllers/courses_controller.rb, line 571</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">orAppend</span>(<span class="ruby-identifier">field</span>, <span class="ruby-identifier">value</span>, <span class="ruby-identifier">qs</span>)
  <span class="ruby-identifier">qs</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">field</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot; LIKE &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-constant">ActiveRecord</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>.<span class="ruby-identifier">connection</span>.<span class="ruby-identifier">quote</span>(<span class="ruby-string">&quot;%&quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;%&quot;</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot; OR &quot;</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-tag_conflicts">
            
              <b>tag_conflicts</b>(courses, cart_courses)
            
            <a href="../classes/Object.html#method-i-tag_conflicts" name="method-i-tag_conflicts" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>compares the search results to the user&#39;s cart and tags the conflicting courses</p>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-tag_conflicts_source')" id="l_method-i-tag_conflicts_source">show</a>
                
              </p>
              <div id="method-i-tag_conflicts_source" class="dyn-source">
                <pre><span class="ruby-comment"># File app/controllers/courses_controller.rb, line 609</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">tag_conflicts</span>(<span class="ruby-identifier">courses</span>, <span class="ruby-identifier">cart_courses</span>)
  <span class="ruby-comment"># compare each course and cart entry for conflicts</span>

  <span class="ruby-identifier">courses</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">result</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">temp_descrip</span> = <span class="ruby-string">&quot;&quot;</span>
    <span class="ruby-identifier">temp_prof_desc</span> = <span class="ruby-string">&quot;&quot;</span>
    <span class="ruby-identifier">cart_courses</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">cart</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">semester</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">cart</span>.<span class="ruby-identifier">semester</span>
      <span class="ruby-comment"># they are not a conflict if they&#39;re the same course</span>
      <span class="ruby-identifier">conflict_message</span> = <span class="ruby-string">&quot;&lt;span class=\&#39;course_in_cart\&#39;&gt;This course is already in your cart.&lt;/span&gt;&lt;br&gt;&quot;</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">crn</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">cart</span>.<span class="ruby-identifier">crn</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">which_desc</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;professor&quot;</span>
          <span class="ruby-keyword">unless</span> <span class="ruby-identifier">temp_prof_desc</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;This course is already in your cart&quot;</span>)
            <span class="ruby-identifier">temp_prof_desc</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">conflict_message</span>
          <span class="ruby-keyword">end</span>
          <span class="ruby-keyword">next</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-keyword">unless</span> <span class="ruby-identifier">temp_descrip</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">&quot;This course is already in your cart&quot;</span>)
            <span class="ruby-identifier">temp_descrip</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">conflict_message</span>
          <span class="ruby-keyword">end</span>
          <span class="ruby-keyword">next</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-comment"># no conflict if times are nil</span>
      <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> (<span class="ruby-identifier">result</span>.<span class="ruby-identifier">start_time</span>.<span class="ruby-identifier">nil?</span>) <span class="ruby-operator">||</span> (<span class="ruby-identifier">result</span>.<span class="ruby-identifier">end_time</span>.<span class="ruby-identifier">nil?</span>) <span class="ruby-operator">||</span> (<span class="ruby-identifier">cart</span>.<span class="ruby-identifier">start_time</span>.<span class="ruby-identifier">nil?</span>) <span class="ruby-operator">||</span> (<span class="ruby-identifier">cart</span>.<span class="ruby-identifier">end_time</span>.<span class="ruby-identifier">nil?</span>)
      <span class="ruby-comment"># if they&#39;re in different modules, there is no conflict</span>
      <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">mods</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">cart</span>.<span class="ruby-identifier">mods</span> <span class="ruby-operator">==</span> <span class="ruby-value">2</span>
      <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">mods</span> <span class="ruby-operator">==</span> <span class="ruby-value">2</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">cart</span>.<span class="ruby-identifier">mods</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
      <span class="ruby-comment"># if they occur at the same time, should compare days</span>
      <span class="ruby-keyword">next</span> <span class="ruby-keyword">unless</span> (<span class="ruby-identifier">result</span>.<span class="ruby-identifier">start_time</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-identifier">cart</span>.<span class="ruby-identifier">start_time</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">start_time</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">cart</span>.<span class="ruby-identifier">end_time</span>) <span class="ruby-operator">||</span> (<span class="ruby-identifier">result</span>.<span class="ruby-identifier">end_time</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-identifier">cart</span>.<span class="ruby-identifier">start_time</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">end_time</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">cart</span>.<span class="ruby-identifier">end_time</span>) <span class="ruby-operator">||</span> (<span class="ruby-identifier">result</span>.<span class="ruby-identifier">start_time</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">cart</span>.<span class="ruby-identifier">start_time</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">end_time</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">cart</span>.<span class="ruby-identifier">end_time</span>)
      <span class="ruby-comment"># compare the days</span>
      <span class="ruby-identifier">result</span>.<span class="ruby-identifier">days</span>.<span class="ruby-identifier">each_char</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">day</span><span class="ruby-operator">|</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">cart</span>.<span class="ruby-identifier">days</span>.<span class="ruby-identifier">include?</span> <span class="ruby-identifier">day</span>
          <span class="ruby-keyword">if</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">which_desc</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;professor&quot;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">temp_prof_desc</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-node">&quot;This course conflicts with #{cart.dept}-#{cart.cnum}&quot;</span>)
            <span class="ruby-identifier">temp_prof_desc</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;&lt;span class=\&quot;course_conflict\&quot;&gt;This course conflicts with #{cart.dept}-#{cart.cnum}.&lt;/span&gt;&lt;br&gt;&quot;</span>
            <span class="ruby-keyword">break</span>
          <span class="ruby-keyword">elsif</span> <span class="ruby-operator">!</span><span class="ruby-identifier">temp_descrip</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-node">&quot;This course conflicts with #{cart.dept}-#{cart.cnum}&quot;</span>)
            <span class="ruby-identifier">temp_descrip</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;&lt;span class=\&quot;course_conflict\&quot;&gt;This course conflicts with #{cart.dept}-#{cart.cnum}.&lt;/span&gt;&lt;br&gt;&quot;</span>
            <span class="ruby-keyword">break</span>
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">temp_prof_desc</span>.<span class="ruby-identifier">blank?</span>
      <span class="ruby-identifier">temp_prof_desc</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;&lt;span class=\&quot;expanded_course_header\&quot;&gt;Professor Description:&lt;/span&gt;&quot;</span>
      <span class="ruby-identifier">temp_prof_desc</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">simple_format</span>(<span class="ruby-identifier">result</span>.<span class="ruby-identifier">prof_desc</span>)
      <span class="ruby-identifier">result</span>.<span class="ruby-identifier">prof_desc</span> = <span class="ruby-identifier">temp_prof_desc</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">temp_descrip</span>.<span class="ruby-identifier">blank?</span>
      <span class="ruby-identifier">temp_descrip</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;&lt;span class=\&quot;expanded_course_header\&quot;&gt;Registrar Description:&lt;/span&gt;&quot;</span>
      <span class="ruby-identifier">temp_descrip</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;&lt;p&gt;&quot;</span>
      <span class="ruby-identifier">temp_descrip</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">descrip</span>.<span class="ruby-identifier">html_safe</span>
      <span class="ruby-identifier">temp_descrip</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;&lt;/p&gt;&quot;</span>
      <span class="ruby-identifier">result</span>.<span class="ruby-identifier">descrip</span> = <span class="ruby-identifier">temp_descrip</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">courses</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-translate_semester">
            
              <b>translate_semester</b>(semester)
            
            <a href="../classes/Object.html#method-i-translate_semester" name="method-i-translate_semester" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-translate_semester_source')" id="l_method-i-translate_semester_source">show</a>
                
              </p>
              <div id="method-i-translate_semester_source" class="dyn-source">
                <pre><span class="ruby-comment"># File app/controllers/courses_controller.rb, line 600</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">translate_semester</span>(<span class="ruby-identifier">semester</span>)
  <span class="ruby-identifier">sem</span> = <span class="ruby-identifier">semester</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot; &quot;</span>)
  <span class="ruby-identifier">ret</span> = <span class="ruby-string">&quot;f&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">sem</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&quot;Fall&quot;</span>
  <span class="ruby-identifier">ret</span> = <span class="ruby-string">&quot;s&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">sem</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&quot;Spring&quot;</span>
  <span class="ruby-identifier">ret</span> = <span class="ruby-string">&quot;u&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">sem</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&quot;Summer&quot;</span>
  <span class="ruby-identifier">ret</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">sem</span>[<span class="ruby-value">1</span>][<span class="ruby-value">2</span><span class="ruby-operator">..</span><span class="ruby-value">3</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
      
    
  
</div>

    </div>
  </body>
</html>
