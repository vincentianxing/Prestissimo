<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type">

<title>class Course - Prestissimo Documentation</title>

<link type="text/css" media="screen" href="./rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
</script>

<script type="text/javascript" charset="utf-8" src="./js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="./js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="./index.html">Home</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>app/models/course.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link">ActiveRecord::Base
  
</nav>

    <!-- Included Modules -->
<nav id="includes-section" class="section">
  <h3 class="section-header">Included Modules</h3>

  <ul class="link-list">
  
  
    <li><span class="include">Comparable</span>
  
  
  </ul>
</nav>

    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-c-build">::build</a>
    
    <li><a href="#method-c-csv_headers">::csv_headers</a>
    
    <li><a href="#method-c-text_semester">::text_semester</a>
    
    <li><a href="#method-c-to_csv_row">::to_csv_row</a>
    
    <li><a href="#method-c-translate_semester">::translate_semester</a>
    
    <li><a href="#method-i-3C-3D-3E">#&lt;=&gt;</a>
    
    <li><a href="#method-i-cancel">#cancel</a>
    
    <li><a href="#method-i-fix_gaps">#fix_gaps</a>
    
    <li><a href="#method-i-generate_relationships">#generate_relationships</a>
    
    <li><a href="#method-i-get_module">#get_module</a>
    
    <li><a href="#method-i-notify_prof_set">#notify_prof_set</a>
    
    <li><a href="#method-i-sever_relationships">#sever_relationships</a>
    
    <li><a href="#method-i-update_size">#update_size</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="./doc/README_FOR_APP.html">README_FOR_APP</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="./JqueryWeekCalendar.html">JqueryWeekCalendar</a>
  
    <li><a href="./JqueryWeekCalendar/Install.html">JqueryWeekCalendar::Install</a>
  
    <li><a href="./JqueryWeekCalendar/Rails.html">JqueryWeekCalendar::Rails</a>
  
    <li><a href="./JqueryWeekCalendar/Rails/Engine.html">JqueryWeekCalendar::Rails::Engine</a>
  
    <li><a href="./JqueryWeekCalendar/Rails/Railtie.html">JqueryWeekCalendar::Rails::Railtie</a>
  
    <li><a href="./AdminsController.html">AdminsController</a>
  
    <li><a href="./AdminsHelper.html">AdminsHelper</a>
  
    <li><a href="./ApplicationController.html">ApplicationController</a>
  
    <li><a href="./ApplicationHelper.html">ApplicationHelper</a>
  
    <li><a href="./Cart.html">Cart</a>
  
    <li><a href="./CartsController.html">CartsController</a>
  
    <li><a href="./CartsHelper.html">CartsHelper</a>
  
    <li><a href="./Comment.html">Comment</a>
  
    <li><a href="./CommentsController.html">CommentsController</a>
  
    <li><a href="./CommentsHelper.html">CommentsHelper</a>
  
    <li><a href="./Course.html">Course</a>
  
    <li><a href="./CoursesController.html">CoursesController</a>
  
    <li><a href="./CoursesHelper.html">CoursesHelper</a>
  
    <li><a href="./Department.html">Department</a>
  
    <li><a href="./DepartmentsController.html">DepartmentsController</a>
  
    <li><a href="./DepartmentsHelper.html">DepartmentsHelper</a>
  
    <li><a href="./ErrorsController.html">ErrorsController</a>
  
    <li><a href="./Handle.html">Handle</a>
  
    <li><a href="./HandlesController.html">HandlesController</a>
  
    <li><a href="./HandlesHelper.html">HandlesHelper</a>
  
    <li><a href="./Hubcourse.html">Hubcourse</a>
  
    <li><a href="./HubcoursesController.html">HubcoursesController</a>
  
    <li><a href="./HubcoursesHelper.html">HubcoursesHelper</a>
  
    <li><a href="./Interact.html">Interact</a>
  
    <li><a href="./MajorsHelper.html">MajorsHelper</a>
  
    <li><a href="./MyClassesController.html">MyClassesController</a>
  
    <li><a href="./MyClassesHelper.html">MyClassesHelper</a>
  
    <li><a href="./Professor.html">Professor</a>
  
    <li><a href="./ProfessorsController.html">ProfessorsController</a>
  
    <li><a href="./ProfessorsHelper.html">ProfessorsHelper</a>
  
    <li><a href="./Report.html">Report</a>
  
    <li><a href="./ReportsController.html">ReportsController</a>
  
    <li><a href="./ReportsHelper.html">ReportsHelper</a>
  
    <li><a href="./SessionsController.html">SessionsController</a>
  
    <li><a href="./SessionsHelper.html">SessionsHelper</a>
  
    <li><a href="./Setting.html">Setting</a>
  
    <li><a href="./SettingsController.html">SettingsController</a>
  
    <li><a href="./SettingsHelper.html">SettingsHelper</a>
  
    <li><a href="./StaticPagesController.html">StaticPagesController</a>
  
    <li><a href="./StaticPagesHelper.html">StaticPagesHelper</a>
  
    <li><a href="./Syllabus.html">Syllabus</a>
  
    <li><a href="./SyllabusController.html">SyllabusController</a>
  
    <li><a href="./SyllabusHelper.html">SyllabusHelper</a>
  
    <li><a href="./UTF8Sanitizer.html">UTF8Sanitizer</a>
  
    <li><a href="./User.html">User</a>
  
    <li><a href="./UsersController.html">UsersController</a>
  
    <li><a href="./UsersHelper.html">UsersHelper</a>
  
    <li><a href="./VotesController.html">VotesController</a>
  
    <li><a href="./VotesHelper.html">VotesHelper</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class Course</h1>

  <div id="description" class="description">
    
<h2 id="label-Schema+Information">Schema Information</h2>

<p>Table name: courses</p>

<pre>id               :integer(4)      not null, primary key
dept             :string(255)
professor        :string(255)
proficiencies    :string(255)
building         :string(255)
room             :string(255)
cnum             :string(255)     default(&quot;&quot;)
crn              :integer(4)
created_at       :datetime        not null
updated_at       :datetime        not null
csize            :integer(4)
semester         :string(255)
mods             :integer(1)
crmax            :float
crmin            :float
start_time       :time
end_time         :time
descrip          :text
semcrn           :string(255)
hubcourse_id     :integer(4)
prereqs          :text
short_title      :string(255)
last_changed     :datetime
enroll           :integer(4)
dean_consent     :boolean(1)
instruct_consent :boolean(1)
section          :string(255)
format           :string(255)
std_letter       :boolean(1)
p_np             :boolean(1)
full_course      :string(255)
cr_ne            :boolean(1)
audit            :boolean(1)
days             :string(255)
xlist1           :string(255)
xlist2           :string(255)
xlist3           :string(255)
title            :string(255)
status           :string(255)     default(&quot;&quot;)
distributions    :string(255)
dept_long        :string(255)     default(&quot;&quot;)
page             :integer(4)      default(0)</pre>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-build" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">build</span><span
            class="method-args">(course_arr)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="build-source">
            <pre><span class="ruby-comment"># File app/models/course.rb, line 82</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">build</span>(<span class="ruby-identifier">course_arr</span>)
  <span class="ruby-identifier">c</span> = <span class="ruby-constant">Course</span>.<span class="ruby-identifier">new</span>

  <span class="ruby-comment"># dept, number, section number, crn</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">dept_long</span> = <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">dept</span> = <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">1</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">cnum</span> = <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">2</span>][<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">2</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&quot;</span> <span class="ruby-comment"># TODO: Check to see if we can include letters in cnum</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">section</span> = <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">3</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">crn</span> = <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">4</span>]

  <span class="ruby-comment"># modules</span>
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">5</span>]
    <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;Full Term&quot;</span>
      <span class="ruby-identifier">c</span>.<span class="ruby-identifier">mods</span> = <span class="ruby-value">3</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;First Module&quot;</span>
      <span class="ruby-identifier">c</span>.<span class="ruby-identifier">mods</span> = <span class="ruby-value">1</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;Second Module&quot;</span>
      <span class="ruby-identifier">c</span>.<span class="ruby-identifier">mods</span> = <span class="ruby-value">2</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">c</span>.<span class="ruby-identifier">mods</span> = <span class="ruby-value">4</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">format</span> = <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">6</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&quot;</span>

  <span class="ruby-comment"># semester</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">semester</span> = <span class="ruby-constant">Course</span>.<span class="ruby-identifier">translate_semester</span>(<span class="ruby-identifier">course_arr</span>[<span class="ruby-value">7</span>])

  <span class="ruby-comment"># titles</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">short_title</span> = <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">8</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">9</span>]
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">title</span> = <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">9</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">short_title</span>

  <span class="ruby-comment"># professors (up to 3)</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">professor</span> = <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">10</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">professor</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;, #{course_arr[13]}&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">13</span>].<span class="ruby-identifier">blank?</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">professor</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;, #{course_arr[14]}&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">14</span>].<span class="ruby-identifier">blank?</span>

  <span class="ruby-comment"># credit hours</span>

  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">crmax</span> = <span class="ruby-value">0.0</span> <span class="ruby-comment"># default to 0 just in case the field is blank.</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">crmin</span> = <span class="ruby-value">0.0</span> <span class="ruby-comment">#</span>
  <span class="ruby-identifier">credits_ranged</span> = <span class="ruby-keyword">false</span> <span class="ruby-comment"># for use in distributions field below.</span>
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">15</span>]
    <span class="ruby-keyword">when</span> <span class="ruby-regexp">/^\s*(\d|\d\d|\d\.\d)\s*$/</span> <span class="ruby-comment"># line start, optional whitespace, (single digit|double digit|digit.digit), optional whitespace, new line</span>
      <span class="ruby-identifier">c</span>.<span class="ruby-identifier">crmax</span> = <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">15</span>].<span class="ruby-identifier">to_f</span>
      <span class="ruby-identifier">c</span>.<span class="ruby-identifier">crmin</span> = <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">15</span>].<span class="ruby-identifier">to_f</span>
    <span class="ruby-keyword">when</span> <span class="ruby-regexp">/^\s*(\d|\d\.\d)\s*-\s*(\d|\d\.\d)\s*$/</span> <span class="ruby-comment"># line start, optional whitespace (single digit|digit.digit)whitespace-whitespace(single digit|digit.digit), optional whitespace, new line</span>
      <span class="ruby-identifier">crs</span> = <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">15</span>].<span class="ruby-identifier">split</span>(<span class="ruby-string">&#39;-&#39;</span>)
      <span class="ruby-identifier">c</span>.<span class="ruby-identifier">crmin</span> = <span class="ruby-identifier">crs</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">strip</span>.<span class="ruby-identifier">to_f</span>
      <span class="ruby-identifier">c</span>.<span class="ruby-identifier">crmax</span> = <span class="ruby-identifier">crs</span>[<span class="ruby-value">1</span>].<span class="ruby-identifier">strip</span>.<span class="ruby-identifier">to_f</span>
      <span class="ruby-identifier">credits_ranged</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># grades, p/np, cr/ne, audit</span>
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">16</span>]
    <span class="ruby-keyword">when</span> <span class="ruby-string">&#39;Y&#39;</span>
      <span class="ruby-identifier">c</span>.<span class="ruby-identifier">std_letter</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">c</span>.<span class="ruby-identifier">std_letter</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">17</span>]
    <span class="ruby-keyword">when</span> <span class="ruby-string">&#39;Y&#39;</span>
      <span class="ruby-identifier">c</span>.<span class="ruby-identifier">cr_ne</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">c</span>.<span class="ruby-identifier">cr_ne</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">18</span>]
    <span class="ruby-keyword">when</span> <span class="ruby-string">&#39;Y&#39;</span>
      <span class="ruby-identifier">c</span>.<span class="ruby-identifier">p_np</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">c</span>.<span class="ruby-identifier">p_np</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">19</span>]
    <span class="ruby-keyword">when</span> <span class="ruby-string">&#39;Y&#39;</span>
      <span class="ruby-identifier">c</span>.<span class="ruby-identifier">audit</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">c</span>.<span class="ruby-identifier">audit</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># credit distributions</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">cndp_set</span> = <span class="ruby-identifier">ddhu_set</span> = <span class="ruby-keyword">false</span>
  
  <span class="ruby-comment"># Handle SSCI credits</span>
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">20</span>]
    <span class="ruby-keyword">when</span> <span class="ruby-string">&#39;CNDP&#39;</span>
      <span class="ruby-comment"># CNDP is handled in the humanities statement below</span>
      <span class="ruby-identifier">cndp_set</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">&#39;SS12&#39;</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">credits_ranged</span>
        <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{c.crmin/2}-#{c.crmax/2}&quot;</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{c.crmax/2}&quot;</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;SS&#39;</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">&#39;SSCI&#39;</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">credits_ranged</span>
        <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{c.crmin}-#{c.crmax}&quot;</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{c.crmax}&quot;</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;SS&#39;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># Handle NSCI credits</span>
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">22</span>]
    <span class="ruby-keyword">when</span> <span class="ruby-string">&#39;NS12&#39;</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">credits_ranged</span>
        <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;, #{c.crmin/2}-#{c.crmax/2}&quot;</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;, #{c.crmax/2}&quot;</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;NS&#39;</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">&#39;NSMA&#39;</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">credits_ranged</span>
        <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;, #{c.crmin}-#{c.crmax}&quot;</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;, #{c.crmax}&quot;</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;NS&#39;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># Handle humanities credits</span>
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">21</span>]
    <span class="ruby-keyword">when</span> <span class="ruby-string">&#39;AR12&#39;</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">credits_ranged</span>
        <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;, #{c.crmin/2}-#{c.crmax/2}&quot;</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;, #{c.crmax/2}&quot;</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;HU&#39;</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">&#39;ARHU&#39;</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">credits_ranged</span>
        <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;, #{c.crmin}-#{c.crmax}&quot;</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;, #{c.crmax}&quot;</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;HU&#39;</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">&#39;DDHU&#39;</span>
      <span class="ruby-comment"># DDHU is handled below</span>
      <span class="ruby-identifier">ddhu_set</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># Handle CNDP and DDHU con humanities credits</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">cndp_set</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">ddhu_set</span>
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span>[<span class="ruby-value">-2</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&quot;HU&quot;</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">credits_ranged</span>
          <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;, #{c.crmin}-#{c.crmax}&quot;</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;, #{c.crmax}&quot;</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;HU&#39;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot; [&quot;</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">cndp_set</span>
      <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;CNDP&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">ddhu_set</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">cndp_set</span>
        <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;, &quot;</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;DDHU&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;]&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># clean out leading commas</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span> = <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span>[<span class="ruby-value">2</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&#39;,&#39;</span>

  <span class="ruby-comment"># set full course, half course, or co-curricular</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">23</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&#39;FC&#39;</span>
    <span class="ruby-identifier">c</span>.<span class="ruby-identifier">full_course</span> = <span class="ruby-string">&quot;Full Course&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">24</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&#39;HC&#39;</span>
    <span class="ruby-identifier">c</span>.<span class="ruby-identifier">full_course</span> = <span class="ruby-string">&quot;, Half Course&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">25</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&#39;CC&#39;</span>
    <span class="ruby-identifier">c</span>.<span class="ruby-identifier">full_course</span> = <span class="ruby-string">&quot;, Co-Curricular&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-comment"># prevent nil errors#TODO#</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">full_course</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">c</span>.<span class="ruby-identifier">full_course</span> = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">full_course</span> = <span class="ruby-identifier">c</span>.<span class="ruby-identifier">full_course</span>[<span class="ruby-value">2</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">full_course</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&#39;,&#39;</span>

  <span class="ruby-comment">#proficiencies for new system</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">proficiencies</span> = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">proficiencies</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;CD&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">30</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&#39;Y&#39;</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">proficiencies</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;,QFR&#39;</span>  <span class="ruby-keyword">if</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">28</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&#39;QFR&#39;</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">proficiencies</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;,WAdv&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">27</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&#39;WADV&#39;</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">proficiencies</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&#39;,WInt&#39;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">26</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&#39;WINT&#39;</span>
  <span class="ruby-comment">#c.proficiencies &lt;&lt; &#39;,WR&#39; if course_arr[28] == &#39;Y&#39;</span>
  <span class="ruby-comment">#c.proficiencies &lt;&lt; &#39;,QP-F&#39; if course_arr[29] == &#39;QP-F&#39;</span>
  <span class="ruby-comment">#c.proficiencies &lt;&lt; &#39;,QP-H&#39; if course_arr[29] == &#39;QP-H&#39;</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">proficiencies</span> = <span class="ruby-identifier">c</span>.<span class="ruby-identifier">proficiencies</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">proficiencies</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&#39;,&#39;</span>

  <span class="ruby-comment"># consent for the new system</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">31</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&#39;Y&#39;</span>
    <span class="ruby-identifier">c</span>.<span class="ruby-identifier">instruct_consent</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">c</span>.<span class="ruby-identifier">instruct_consent</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">32</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&#39;Y&#39;</span>
    <span class="ruby-identifier">c</span>.<span class="ruby-identifier">dean_consent</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">c</span>.<span class="ruby-identifier">dean_consent</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># days</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">days</span> = <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">35</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&quot;</span>

  <span class="ruby-comment"># times</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">35</span>].<span class="ruby-identifier">blank?</span>
    <span class="ruby-identifier">c</span>.<span class="ruby-identifier">start_time</span> = <span class="ruby-node">&quot;#{course_arr[36][0..1]}:#{course_arr[36][2..3]}&quot;</span>
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">36</span>].<span class="ruby-identifier">blank?</span>
      <span class="ruby-identifier">c</span>.<span class="ruby-identifier">end_time</span> = <span class="ruby-node">&quot;#{course_arr[37][0..1]}:#{course_arr[37][2..3]}&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># location</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">building</span> = <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">38</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">room</span> = <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">39</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&quot;</span>

  <span class="ruby-comment"># crosslists as DEPT_CNUM</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">xlist1</span> = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">40</span>].<span class="ruby-identifier">blank?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">41</span>].<span class="ruby-identifier">blank?</span>
    <span class="ruby-identifier">c</span>.<span class="ruby-identifier">xlist1</span> = <span class="ruby-node">&quot;#{course_arr[40]} #{course_arr[41]}&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">xlist1_semcrn</span> = <span class="ruby-node">&quot;#{c.semester}_#{course_arr[42]}&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">42</span>].<span class="ruby-identifier">blank?</span> <span class="ruby-comment">#TODO</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">xlist2</span> = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">43</span>].<span class="ruby-identifier">blank?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">44</span>].<span class="ruby-identifier">blank?</span>
    <span class="ruby-identifier">c</span>.<span class="ruby-identifier">xlist2</span> = <span class="ruby-node">&quot;#{course_arr[43]} #{course_arr[44]}&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">xlist2_semcrn</span> = <span class="ruby-node">&quot;#{c.semester}_#{course_arr[45]}&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">45</span>].<span class="ruby-identifier">blank?</span> <span class="ruby-comment">#TODO</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">xlist3</span> = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">46</span>].<span class="ruby-identifier">blank?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">47</span>].<span class="ruby-identifier">blank?</span>
    <span class="ruby-identifier">c</span>.<span class="ruby-identifier">xlist3</span> = <span class="ruby-node">&quot;#{course_arr[46]} #{course_arr[47]}&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">xlist3_semcrn</span> = <span class="ruby-node">&quot;#{c.semester}_#{course_arr[48]}&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">48</span>].<span class="ruby-identifier">blank?</span> <span class="ruby-comment">#TODO</span>

  <span class="ruby-comment"># description and prereqs</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">descrip</span> = <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">49</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">prereqs</span> = <span class="ruby-identifier">course_arr</span>[<span class="ruby-value">50</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;&quot;</span>

  <span class="ruby-comment"># semcrn</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">semcrn</span> = <span class="ruby-node">&quot;#{c.semester}_#{c.crn}&quot;</span>

  <span class="ruby-comment"># set which_desc</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">which_desc</span> = <span class="ruby-string">&quot;default&quot;</span>

  <span class="ruby-comment"># set updated time</span>
  <span class="ruby-identifier">c</span>.<span class="ruby-identifier">last_changed</span> = <span class="ruby-constant">DateTime</span>.<span class="ruby-identifier">now</span>

  <span class="ruby-identifier">c</span>

<span class="ruby-keyword">end</span></pre>
          </div><!-- build-source -->
          
        </div>

        

        
      </div><!-- build-method -->

    
      <div id="method-c-csv_headers" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">csv_headers</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="csv_headers-source">
            <pre><span class="ruby-comment"># File app/models/course.rb, line 457</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">csv_headers</span>
  [<span class="ruby-string">&quot;CRN&quot;</span>, <span class="ruby-string">&quot;No.&quot;</span>, <span class="ruby-string">&quot;Dept.&quot;</span>,<span class="ruby-string">&quot;Semester&quot;</span>, <span class="ruby-string">&quot;Course Name&quot;</span>, <span class="ruby-string">&quot;Instructor&quot;</span>, <span class="ruby-string">&quot;Days&quot;</span>, <span class="ruby-string">&quot;Start Time&quot;</span>, <span class="ruby-string">&quot;End Time&quot;</span>, <span class="ruby-string">&quot;Room&quot;</span>, <span class="ruby-string">&quot;Enroll.&quot;</span>, <span class="ruby-string">&quot;Size&quot;</span>, <span class="ruby-string">&quot;Profic.&quot;</span>, <span class="ruby-string">&quot;Section&quot;</span>, <span class="ruby-string">&quot;Format&quot;</span>, <span class="ruby-string">&quot;Module&quot;</span>, <span class="ruby-string">&quot;Credits&quot;</span>, <span class="ruby-string">&quot;Distributions&quot;</span>, <span class="ruby-string">&quot;Full/Half&quot;</span>, <span class="ruby-string">&quot;P/NP&quot;</span>, <span class="ruby-string">&quot;X-Listings&quot;</span>]
<span class="ruby-keyword">end</span></pre>
          </div><!-- csv_headers-source -->
          
        </div>

        

        
      </div><!-- csv_headers-method -->

    
      <div id="method-c-text_semester" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">text_semester</span><span
            class="method-args">(semester)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="text_semester-source">
            <pre><span class="ruby-comment"># File app/models/course.rb, line 437</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">text_semester</span>(<span class="ruby-identifier">semester</span>)
  <span class="ruby-identifier">s</span> = <span class="ruby-string">&quot;Fall&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">semester</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&quot;f&quot;</span>
  <span class="ruby-identifier">s</span> = <span class="ruby-string">&quot;Spring&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">semester</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&quot;s&quot;</span>
  <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; 20#{semester[1..2]}&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- text_semester-source -->
          
        </div>

        

        
      </div><!-- text_semester-method -->

    
      <div id="method-c-to_csv_row" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_csv_row</span><span
            class="method-args">(c)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="to_csv_row-source">
            <pre><span class="ruby-comment"># File app/models/course.rb, line 461</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">to_csv_row</span>(<span class="ruby-identifier">c</span>)
  <span class="ruby-identifier">row</span> = [<span class="ruby-identifier">c</span>.<span class="ruby-identifier">crn</span>, <span class="ruby-identifier">c</span>.<span class="ruby-identifier">cnum</span>, <span class="ruby-identifier">c</span>.<span class="ruby-identifier">dept</span>]
  <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">text_semester</span>(<span class="ruby-identifier">c</span>.<span class="ruby-identifier">semester</span>)
  <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">short_title</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">professors</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
    <span class="ruby-identifier">profs</span> = []
    <span class="ruby-identifier">c</span>.<span class="ruby-identifier">professors</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">profs</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{p.fname} #{p.lname}&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">profs</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;, &quot;</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">professor</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">days</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">start_time</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">start_time</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%I:%M %p&quot;</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">end_time</span> <span class="ruby-operator">!=</span> <span class="ruby-keyword">nil</span>
    <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">end_time</span>.<span class="ruby-identifier">strftime</span>(<span class="ruby-string">&quot;%I:%M %p&quot;</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">building</span>.<span class="ruby-identifier">blank?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">room</span>.<span class="ruby-identifier">blank?</span>
    <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">building</span>.<span class="ruby-identifier">blank?</span>
    <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">room</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">room</span>.<span class="ruby-identifier">blank?</span>
    <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">building</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{c.building} #{c.room}&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">enroll</span>
  <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">csize</span>
  <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">proficiencies</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-string">&#39;-&#39;</span>, <span class="ruby-string">&#39;&#39;</span>).<span class="ruby-identifier">split</span>(<span class="ruby-string">&#39;,&#39;</span>).<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39;-&#39;</span>)
  <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">section</span>
  <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">format</span>
  <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">get_module</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">crmax</span> <span class="ruby-operator">!=</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">crmin</span>
    <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{c.crmin} - #{c.crmin}&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">crmax</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span>.<span class="ruby-identifier">blank?</span>
    <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">distributions</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">full_course</span>.<span class="ruby-identifier">blank?</span>
    <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">full_course</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">p_np</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">std_letter</span>
      <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;Available&quot;</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;Only&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">xlist</span> = []
  <span class="ruby-identifier">xlist</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">xlist1</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">xlist1</span>.<span class="ruby-identifier">blank?</span>
  <span class="ruby-identifier">xlist</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">xlist2</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">xlist2</span>.<span class="ruby-identifier">blank?</span>
  <span class="ruby-identifier">xlist</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">xlist3</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">xlist3</span>.<span class="ruby-identifier">blank?</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">xlist</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
    <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">xlist</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&#39;, &#39;</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">row</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">row</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- to_csv_row-source -->
          
        </div>

        

        
      </div><!-- to_csv_row-method -->

    
      <div id="method-c-translate_semester" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">translate_semester</span><span
            class="method-args">(year_month)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="translate_semester-source">
            <pre><span class="ruby-comment"># File app/models/course.rb, line 443</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">translate_semester</span>(<span class="ruby-identifier">year_month</span>)
  <span class="ruby-identifier">year</span> = <span class="ruby-identifier">year_month</span>[<span class="ruby-value">2</span><span class="ruby-operator">..</span><span class="ruby-value">3</span>]
  <span class="ruby-identifier">month</span> = <span class="ruby-identifier">year_month</span>[<span class="ruby-value">4</span><span class="ruby-operator">..</span><span class="ruby-value">5</span>]
  <span class="ruby-identifier">sem</span> = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">month</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;09&quot;</span>
      <span class="ruby-identifier">sem</span> = <span class="ruby-string">&quot;f&quot;</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;02&quot;</span>
      <span class="ruby-identifier">sem</span> = <span class="ruby-string">&quot;s&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">sem</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">year</span>
  <span class="ruby-identifier">sem</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- translate_semester-source -->
          
        </div>

        

        
      </div><!-- translate_semester-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-3C-3D-3E" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">&lt;=&gt;</span><span
            class="method-args">(other)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Overiding comparaison operator so spring semesters will come before fall
semesters when comparing two course objects</p>
          

          
          <div class="method-source-code" id="3C-3D-3E-source">
            <pre><span class="ruby-comment"># File app/models/course.rb, line 538</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">&lt;=&gt;</span>(<span class="ruby-identifier">other</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">semester</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value">0</span>) <span class="ruby-operator">==</span> <span class="ruby-string">&quot;f&quot;</span>
    <span class="ruby-identifier">sem1</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">semester</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-keyword">self</span>.<span class="ruby-identifier">semester</span>.<span class="ruby-identifier">length</span>] <span class="ruby-operator">+</span> <span class="ruby-string">&quot;9&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">sem1</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">semester</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-keyword">self</span>.<span class="ruby-identifier">semester</span>.<span class="ruby-identifier">length</span>] <span class="ruby-operator">+</span> <span class="ruby-string">&quot;2&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">semester</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value">0</span>) <span class="ruby-operator">==</span> <span class="ruby-string">&quot;f&quot;</span>
    <span class="ruby-identifier">sem2</span> = <span class="ruby-identifier">other</span>.<span class="ruby-identifier">semester</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-identifier">other</span>.<span class="ruby-identifier">semester</span>.<span class="ruby-identifier">length</span>] <span class="ruby-operator">+</span> <span class="ruby-string">&quot;9&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">sem2</span> = <span class="ruby-identifier">other</span>.<span class="ruby-identifier">semester</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-identifier">other</span>.<span class="ruby-identifier">semester</span>.<span class="ruby-identifier">length</span>] <span class="ruby-operator">+</span> <span class="ruby-string">&quot;2&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">sem1</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">sem2</span>.<span class="ruby-identifier">to_i</span>
    <span class="ruby-keyword">return</span> <span class="ruby-value">1</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">sem1</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">sem2</span>.<span class="ruby-identifier">to_i</span>
    <span class="ruby-keyword">return</span> <span class="ruby-value">-1</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">d</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">dept</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">dept</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">d</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">d</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
    <span class="ruby-identifier">n</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">cnum</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">cnum</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">n</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">n</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
    <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">section</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">section</span>
  <span class="ruby-keyword">end</span>

<span class="ruby-keyword">end</span></pre>
          </div><!-- 3C-3D-3E-source -->
          
        </div>

        

        
      </div><!-- 3C-3D-3E-method -->

    
      <div id="method-i-cancel" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cancel</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="cancel-source">
            <pre><span class="ruby-comment"># File app/models/course.rb, line 404</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cancel</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">status</span> = <span class="ruby-string">&quot;cancelled&quot;</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">changed_fields</span> <span class="ruby-operator">||=</span><span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">changed_fields</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;|&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">changed_fields</span>.<span class="ruby-identifier">blank?</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">changed_fields</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;cancelled&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- cancel-source -->
          
        </div>

        

        
      </div><!-- cancel-method -->

    
      <div id="method-i-fix_gaps" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">fix_gaps</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>allow for setting query sort by order</p>

<pre class="ruby"><span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">set_scope</span>(<span class="ruby-identifier">order</span>)
  <span class="ruby-identifier">default_scope</span> :<span class="ruby-identifier">order</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">order</span>
<span class="ruby-keyword">end</span>
</pre>
          

          
          <div class="method-source-code" id="fix_gaps-source">
            <pre><span class="ruby-comment"># File app/models/course.rb, line 76</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">fix_gaps</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">title</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">short_title</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">title</span>.<span class="ruby-identifier">blank?</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">short_title</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">title</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">short_title</span>.<span class="ruby-identifier">blank?</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">dept_long</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">dept</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">dept_long</span>.<span class="ruby-identifier">blank?</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- fix_gaps-source -->
          
        </div>

        

        
      </div><!-- fix_gaps-method -->

    
      <div id="method-i-generate_relationships" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">generate_relationships</span><span
            class="method-args">(prim_instructor = "", prim_userid = "", prim_email = "")</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="generate_relationships-source">
            <pre><span class="ruby-comment"># File app/models/course.rb, line 353</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">generate_relationships</span>(<span class="ruby-identifier">prim_instructor</span> = <span class="ruby-string">&quot;&quot;</span>, <span class="ruby-identifier">prim_userid</span> = <span class="ruby-string">&quot;&quot;</span>, <span class="ruby-identifier">prim_email</span> = <span class="ruby-string">&quot;&quot;</span>)
  <span class="ruby-identifier">hubid</span> = <span class="ruby-node">&quot;#{self.dept} #{self.cnum}&quot;</span>
  <span class="ruby-identifier">hc</span> = <span class="ruby-constant">Hubcourse</span>.<span class="ruby-identifier">find_by_hub_id</span>(<span class="ruby-identifier">hubid</span>)
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">hc</span>
    <span class="ruby-identifier">hc</span> = <span class="ruby-constant">Hubcourse</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">hc</span>.<span class="ruby-identifier">hub_id</span> = <span class="ruby-identifier">hubid</span>
    <span class="ruby-identifier">hc</span>.<span class="ruby-identifier">cname</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">title</span>
    <span class="ruby-identifier">hc</span>.<span class="ruby-identifier">cnum</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">cnum</span>
    <span class="ruby-identifier">hc</span>.<span class="ruby-identifier">save</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">hc</span>.<span class="ruby-identifier">courses</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword">self</span>
  <span class="ruby-identifier">profs</span> = <span class="ruby-keyword">self</span>.<span class="ruby-identifier">professor</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;, &quot;</span>)
  <span class="ruby-identifier">profs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a_prof</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">case</span> <span class="ruby-identifier">a_prof</span>
      <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;A&amp;S Staff&quot;</span>, <span class="ruby-string">&quot;Con Staff&quot;</span>, <span class="ruby-string">&quot;OCEAN Staff&quot;</span>, <span class="ruby-string">&quot;Staff&quot;</span>, <span class="ruby-regexp">/^\s*$/</span>
        <span class="ruby-keyword">next</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">userid</span> = <span class="ruby-identifier">prim_userid</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">a_prof</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">prim_instructor</span>
        <span class="ruby-identifier">email</span> = <span class="ruby-identifier">prim_email</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">a_prof</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">prim_instructor</span>
        <span class="ruby-identifier">fname</span> = <span class="ruby-string">&quot;&quot;</span>
        <span class="ruby-identifier">lname</span> = <span class="ruby-string">&quot;&quot;</span>
        <span class="ruby-identifier">name_arr</span> = <span class="ruby-identifier">a_prof</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot; &quot;</span>)
        <span class="ruby-identifier">fname</span> = <span class="ruby-identifier">name_arr</span>.<span class="ruby-identifier">delete_at</span>(<span class="ruby-value">0</span>)
        <span class="ruby-identifier">name_arr</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">part</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">lname</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">part</span> <span class="ruby-operator">+</span> <span class="ruby-string">&#39; &#39;</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-identifier">lname</span>.<span class="ruby-identifier">strip!</span>
        <span class="ruby-identifier">prof</span> = <span class="ruby-constant">Professor</span>.<span class="ruby-identifier">where</span>(<span class="ruby-identifier">fname</span><span class="ruby-operator">:</span> <span class="ruby-identifier">fname</span>, <span class="ruby-identifier">lname</span><span class="ruby-operator">:</span> <span class="ruby-identifier">lname</span>)
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">prof</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
          <span class="ruby-identifier">prof</span> = <span class="ruby-identifier">prof</span>[<span class="ruby-value">0</span>]
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">prof</span> = <span class="ruby-keyword">nil</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">unless</span> <span class="ruby-identifier">prof</span>
          <span class="ruby-identifier">prof</span> = <span class="ruby-constant">Professor</span>.<span class="ruby-identifier">new</span>
          <span class="ruby-identifier">prof</span>.<span class="ruby-identifier">fname</span> = <span class="ruby-identifier">fname</span>
          <span class="ruby-identifier">prof</span>.<span class="ruby-identifier">lname</span> = <span class="ruby-identifier">lname</span>
          <span class="ruby-identifier">prof</span>.<span class="ruby-identifier">userid</span> = <span class="ruby-identifier">userid</span> <span class="ruby-comment">#TODO</span>
          <span class="ruby-identifier">prof</span>.<span class="ruby-identifier">email</span> = <span class="ruby-identifier">email</span> <span class="ruby-comment">#TODO</span>
          <span class="ruby-identifier">prof</span>.<span class="ruby-identifier">save</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-comment">#TODO#adding in data for existing professors, consider removing</span>
          <span class="ruby-identifier">prof</span>.<span class="ruby-identifier">userid</span> = <span class="ruby-identifier">userid</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">userid</span>.<span class="ruby-identifier">blank?</span>
          <span class="ruby-identifier">prof</span>.<span class="ruby-identifier">email</span> = <span class="ruby-identifier">email</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">email</span>.<span class="ruby-identifier">blank?</span>
          <span class="ruby-identifier">prof</span>.<span class="ruby-identifier">save</span>
        <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">self</span>.<span class="ruby-identifier">professors</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">prof</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- generate_relationships-source -->
          
        </div>

        

        
      </div><!-- generate_relationships-method -->

    
      <div id="method-i-get_module" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get_module</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="get_module-source">
            <pre><span class="ruby-comment"># File app/models/course.rb, line 422</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get_module</span>
  <span class="ruby-identifier">ret</span> = <span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-keyword">case</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">mods</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">1</span>
      <span class="ruby-identifier">ret</span> = <span class="ruby-string">&quot;First&quot;</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">2</span>
      <span class="ruby-identifier">ret</span> = <span class="ruby-string">&quot;Second&quot;</span>
    <span class="ruby-keyword">when</span> <span class="ruby-value">3</span>
      <span class="ruby-identifier">ret</span> = <span class="ruby-string">&quot;Full Semester&quot;</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">ret</span> = <span class="ruby-string">&quot;Special&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">ret</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- get_module-source -->
          
        </div>

        

        
      </div><!-- get_module-method -->

    
      <div id="method-i-notify_prof_set" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">notify_prof_set</span><span
            class="method-args">(profemail)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="notify_prof_set-source">
            <pre><span class="ruby-comment"># File app/models/course.rb, line 411</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">notify_prof_set</span>(<span class="ruby-identifier">profemail</span>)
  <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;premodel change: #{self.notify_profs}&quot;</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">notify_profs</span><span class="ruby-operator">||=</span><span class="ruby-string">&quot;&quot;</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">notify_profs</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">notify_profs</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">profemail</span>)
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">notify_profs</span><span class="ruby-operator">&lt;&lt;</span><span class="ruby-string">&quot;|&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier">notify_profs</span>.<span class="ruby-identifier">blank?</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">notify_profs</span><span class="ruby-operator">&lt;&lt;</span><span class="ruby-identifier">profemail</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">save</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- notify_prof_set-source -->
          
        </div>

        

        
      </div><!-- notify_prof_set-method -->

    
      <div id="method-i-sever_relationships" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">sever_relationships</span><span
            class="method-args">()</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="sever_relationships-source">
            <pre><span class="ruby-comment"># File app/models/course.rb, line 347</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sever_relationships</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">professors</span>.<span class="ruby-identifier">clear</span>
  <span class="ruby-comment">#self.syllabus.clear</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">hubcourse</span> = <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- sever_relationships-source -->
          
        </div>

        

        
      </div><!-- sever_relationships-method -->

    
      <div id="method-i-update_size" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">update_size</span><span
            class="method-args">(csize, enroll)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="update_size-source">
            <pre><span class="ruby-comment"># File app/models/course.rb, line 341</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">update_size</span>(<span class="ruby-identifier">csize</span>, <span class="ruby-identifier">enroll</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">csize</span> = <span class="ruby-identifier">csize</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">enroll</span> = <span class="ruby-identifier">enroll</span>
  <span class="ruby-comment"># need to handle assignment of page to courses with duplicate semcrns</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- update_size-source -->
          
        </div>

        

        
      </div><!-- update_size-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.2.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

